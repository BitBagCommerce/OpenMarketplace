sylius_grid:
  templates:
    action:
      edit_product: "Grid/Action/edit_product_listing.html.twig"
  grids:
    bitbag_mvm_plugin_vendor_product_listing:
      driver:
        name: doctrine/orm
        options:
          class: BitBag\OpenMarketplace\Entity\ProductListing\ProductListing
          repository:
            method: createQueryBuilderByVendorAndDeleted
            arguments:
              - "expr:service('bitbag_mvm_plugin.provider.vendor').provideCurrentVendor()"
      filters:
        search:
          type: string
          form_options:
            type: contains
          options:
            fields: [ 'code' ]
        status:
          type: product_listing_status
          label: bitbag_mvm_plugin.ui.status
      fields:
        code:
          type: string
          label: bitbag_mvm_plugin.ui.code

        name:
          type: twig
          label: bitbag_mvm_plugin.ui.name
          path: getLatestDraft
          options:
              template: "Grid/Field/product_listing_product_name.html.twig"

        getLatestDraft.verifiedAt:
          type: twig
          label: bitbag_mvm_plugin.ui.verified_at
          options:
            template: "Grid/Field/product_listing_verified_at.html.twig"
        getLatestDraft.status:
          type: twig
          label: bitbag_mvm_plugin.ui.status
          options:
            template: "Grid/Field/product_listing_status.html.twig"
      actions:
        main:
          create:
            type: create
            label: bitbag_mvm_plugin.ui.create_new_product
            options:
              link:
                route: bitbag_mvm_plugin_vendor_product_listing_create_product
        item:
          dropdown:
            type: product_listing_dropdown

